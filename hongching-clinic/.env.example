# ============================================================
# Hong Ching Clinic — Environment Variables
# ============================================================
# Copy this file to .env and fill in your values.
# NEVER commit the real .env file to version control.
# ============================================================

# ── Supabase ─────────────────────────────────────────────────
# Core Supabase connection (server-side APIs use SUPABASE_URL,
# client-side Vite app uses VITE_SUPABASE_URL — typically the same value)
SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase anon (public) key — used by the browser client
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key-here

# Supabase service-role key — server-side only, full admin access
SUPABASE_SERVICE_KEY=your-supabase-service-role-key-here

# Supabase JWT secret — used to verify Supabase-issued JWTs
SUPABASE_JWT_SECRET=your-supabase-jwt-secret-here

# ── Authentication / JWT ─────────────────────────────────────
# Secret used to sign and verify application JWTs
JWT_SECRET=your-jwt-secret-here

# JSON object of user credentials for built-in auth (optional)
# Format: {"username":{"password":"hashed","role":"admin"}}
USER_CREDENTIALS={}

# JSON object of extra user metadata merged into tokens (optional)
USER_META={}

# Admin email address — receives onboarding notifications
ADMIN_EMAIL=admin@your-domain.com

# ── Application / Deployment ────────────────────────────────
# Public URL of the deployed app (used for redirects, emails, billing callbacks)
APP_URL=https://your-app.vercel.app
VITE_APP_URL=https://your-app.vercel.app

# Comma-separated list of additional allowed CORS origins (optional)
ALLOWED_ORIGINS=

# Vercel auto-sets this; no need to configure manually
# VERCEL_PROJECT_NAME=

# ── Stripe (Billing) ────────────────────────────────────────
# Stripe secret key for server-side API calls
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key-here

# Stripe webhook signing secret for verifying webhook payloads
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret-here

# Stripe Price IDs for each subscription plan
STRIPE_PRICE_BASIC=price_your-basic-price-id-here
STRIPE_PRICE_PRO=price_your-pro-price-id-here
STRIPE_PRICE_ENTERPRISE=price_your-enterprise-price-id-here

# ── AI / LLM ────────────────────────────────────────────────
# Anthropic API key — used for Claude-based analysis and messaging AI
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Google AI (Gemini) API key — used for alternative AI features
GOOGLE_AI_KEY=your-google-ai-key-here

# ── Email (Resend) ──────────────────────────────────────────
# Resend API key for transactional emails
RESEND_API_KEY=re_your-resend-api-key-here

# "From" address for outgoing emails (defaults to noreply@clinic.app)
RESEND_FROM=noreply@your-domain.com

# ── Telegram ─────────────────────────────────────────────────
# Telegram bot token for notifications and expense tracking
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-here

# Dedicated expense-tracking bot token (falls back to TELEGRAM_BOT_TOKEN)
TG_EXPENSE_BOT_TOKEN=your-tg-expense-bot-token-here

# Default Telegram chat ID for sending reports / alerts
TELEGRAM_CHAT_ID=your-telegram-chat-id-here

# Default store name for Telegram expense entries (optional)
TG_DEFAULT_STORE=

# Monthly budget threshold for Telegram budget alerts (optional, default: 50000)
TG_MONTHLY_BUDGET=50000

# ── WhatsApp (Meta Business API) ────────────────────────────
# WhatsApp Cloud API permanent token
WHATSAPP_TOKEN=your-whatsapp-token-here

# WhatsApp phone number IDs per branch
WHATSAPP_PHONE_ID=your-default-whatsapp-phone-id-here
WHATSAPP_PHONE_ID_TKW=your-tkw-whatsapp-phone-id-here
WHATSAPP_PHONE_ID_PE=your-pe-whatsapp-phone-id-here

# JSON map of store-name to phone-number-ID for multi-branch routing (optional)
# Format: {"store_a":"phone_id_1","store_b":"phone_id_2"}
WHATSAPP_PHONE_MAP={}

# ── Rate Limiting (Upstash Redis) ───────────────────────────
# Upstash Redis REST URL and token for persistent rate limiting
# If not set, falls back to unreliable in-memory rate limiting
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-redis-rest-token-here

# ── Cron / Scheduled Jobs ───────────────────────────────────
# Secret token to authorize Vercel cron invocations
CRON_SECRET=your-cron-secret-here

# ── Legacy / Google Apps Script ──────────────────────────────
# Google Apps Script web app URL (legacy data bridge, optional)
VITE_GAS_URL=https://script.google.com/macros/s/your-script-id/exec

# ── Error Tracking (Sentry) ─────────────────────────────────
# Sentry DSN for client-side error reporting (optional)
VITE_SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id
